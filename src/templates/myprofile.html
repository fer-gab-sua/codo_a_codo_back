<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis Mochilas</title>
    <meta name="keywords" content="Refugios-de-Montaña,Patagonia-Argentina,Vacaciones-en-Patagonia,Trekking-en-Patagonia"/>
    <meta name="description" content="Refugios-de-Montaña,Refugios-de-Montania,Refugios-de-Montana"/>
    <link rel="icon" type="image" sizes="16x16" href="img/Logo-Ico/RefugiosDeMontania-Ico.ico"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/mochilas.css')}}"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100..900;1,100..900&family=Inter:wght@100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Radio+Canada+Big:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <meta http-equiv="refresh" content="30"> <!--   borrar para la entrega este renglon -->

</head>
<body>
    <header>
            {% include '_menu.html' %}
    </header> 

    <section id="HERO-MOCHILAS">
        <div class="banner" id="TOP-MiPerfil">
        </div>
    </section>

    <section id="MI-PERFIL" class="Fondo">
            <section class="Mi-Perfil">
                <div class="d1">
                    <h2 class="titulo">Mi Perfil</h2>
                </div>
                <!-- Perfil current_user-->
                
                <div class="d2">
                    <div class="d2i">
                        <img class="d2i-img" src="{{ url_for('static', filename='archivos/' + current_user.use_profile_img) }}" alt="Foto de Usuario">
                    </div>
                    
                    <div class="d2d">
                        <h3 class="color-texto-special">{{current_user.use_str_first_name}} {{current_user.use_str_last_name}}</h3>
                        <p>Telefono: {{current_user.use_str_phone}} </p>
                        <p>E-Mail: {{current_user.use_str_email}}</p>
                    </div>
                    <!-- clima  weather -->
                    <div class="clima">
                        <h4>Clima Bolson</h4>
                        <div class="contenedorclima">
                            <div class="cont_izq_clima">
                                <p>Temp.: <br>
                                    <span>{{ weather.temperature }}°C</span></p>
            
                                <p>Sensación térmica: <br>
                                    <span>{{ weather.sensacion_termica }}°C</span></p>
                            </div>    
                            <div class="cont_der_clima">
                                <p>Descripción: <br>
                                    <span>{{ weather.description }}</span></p>
                                <img src="http://openweathermap.org/img/wn/{{ weather.icon }}.png" alt="Icono del clima">
                            </div>
                        
                        </div>    
                    </div>
                </div>
            </section>
            



            <section class="Arma-tu-Mochila">
                <h3 class="color-special">¡Arma tus Mochilas!</h3>
                <h4 class="color-texto-special">Registra por viaje una mochila y arma tu lista para chequear antes de salir y no olvidar nada!</h4>
                <p class="color-texto-special">Te recomendamo siempre tener: Agua fresca, Snacks saludables, Protector solar, Muda de ropa cómoda, Kit de primeros auxilios, Celular y teléfonos de contacto de la zona, Mapa impreso, Brújula, y por sobre todo una bosita para llevarte todos los desechables, ¡No dejes nada en la naturaleza!</p>
                <h4 class="color-texto-special">¡Comencemos! </h4>
            </section>


            

<section id="lista-mochilas" class="lista-mochilas"">
    <h2 class="titulo">Mis Mochilas</h2>
    <div>
        <div class="Nuevo-item-mochila">
            
            <!-- nueva mochila formulario-->
            <form id="registroForm" method="POST" action="{{ url_for('my_profile.new_mochila') }}" class="col-md-12 formulariomochi">
                <!-- este es el formulario de alta nueva-->
                <div class="form-group">
                    <input type="text" class="form-control custom-bg filled-text-color" id="nombre_mochila" name="nombre_mochila" placeholder="Nombre Nueva Mochila">

                    <input type="text" class="form-control custom-bg filled-text-color" id="descripcion_mochila"  name="descripcion_mochila"placeholder="Descripcion Mochila">                

                    <button type="submit" class="btn-1">Crear</button> 
                </div>
            </form>
        </div>

    </div>
        
    <!-- listado de mochilas  -->
    <div class="container-lista-mochilas">
            {% for mochila in mochilas_list  %}
            <div class="container-lista-mochilas-creadas">
                <div id="mochila-1" class="titulo acciones">
                        <h4>{{mochila.nombre}} - <span>{{mochila.descripcion}}</span></h4>
                </div> 
                <div class="acciones">
                    <form action="{{ url_for('my_profile.delete_mochila', mochila_id=mochila.id) }}" method="POST" style="display: inline;">
                        <button type="submit" class="borrar"><img src="{{ url_for('static', filename='img/Refugios-MOCHILAS/trash_icon_128726.svg') }}" class="icon-btn" style="height: 30px" alt="trash-icon"></button>
                    </form>

                    <form action="{{ url_for('my_profile.update_mochila', mochila_id=mochila.id) }}" method="POST" style="display: inline;">
                        <button type="submit" class="editar">
                            <img src="{{ url_for('static', filename='img/Refugios-MOCHILAS/edit_icon_128873.svg')}}"  class="icon-btn" style="height: 30px" alt="edit-icon">
                        </button>
                    </form>

                </div>
            </div>
            {% endfor %}

       

        </div>
</section>



<section id="Mochila-Seleccionada" class="titulo">
    <!-- descripcion mochila seleccionada -->
    {% if mochila_select %}
    <div>
        <h3 class="titulo">{{ mochila_select.nombre }} - {{ mochila_select.descripcion }}

        </h3>
        <h6 class="color-texto-special">¡Crea un item para cada elemento que coloques! Puedes editarlos o eliminarlos después.</h6>
    </div>

 <!-- formulario nuevo item  -->
    <form id="registroFormItem" method="POST" action="{{ url_for('my_profile.new_item',  mochila_id=mochila_select.id) }}" class="col-md-12 formulariomochi">
        <!-- este es el formulario de alta nueva-->
        <div class="form-group">
            <input type="number" class="form-control custom-bg filled-text-color" id="cantidad"  name="cantidad"placeholder="cantidad">                
            <input type="text" class="form-control custom-bg filled-text-color" id="contenido" name="contenido" placeholder="contenido">


            <button type="submit" class="btn-1">Agregar</button> 
        </div>
    </form>

    <!--Muestro los item-->

<div class="container-lista-mochilas">

            {% for item in contenido_mochila %}
            <div class="container-lista-mochilas-creadas">
                <div id="mochila-1" class="titulo acciones">
                        <h4>{{item.cantidad}} - <span>{{item.contenido}}</span></h4>
                </div> 
                <div class="acciones">
                    <form action="{{ url_for('my_profile.delete_item', item_id=item.id) }}" method="POST" style="display: inline;">
                        <button type="submit" class="borrar"><img src="{{ url_for('static', filename='img/Refugios-MOCHILAS/trash_icon_128726.svg') }}" class="icon-btn" style="height: 30px" alt="trash-icon"></button>
                    </form>

                    <form action="" method="POST" style="display: inline;">
                        <button type="submit" class="editar">
                            <img src="{{ url_for('static', filename='img/Refugios-MOCHILAS/edit_icon_128873.svg')}}"  class="icon-btn" style="height: 30px" alt="edit-icon">
                        </button>
                    </form>

                </div>
            </div>
            {% endfor %}



        </div>









    {% else %}
    {% endif %}
    

</section>

















<footer>
        <div class="footer-info">
            <div class="footer-logo">
            <a href="#TOP-nosotros">
            <img class="img-footer-logo" src="{{ url_for('static', filename='img/Logo-Ico/RefugiosDeMontania-Logo-black.png')}}" alt="Refugios de Montaña Logo">
            </a>
            </div>
            <div class="footer-links">
            <div class="footer-list">
                <p class="CommonLabel">Refugios</p>
                <a class="a-especial" href="nosotros.html">Sobre Nosotros</a> 
                <a class="a-especial" href="refugios.html">Listado Refugios</a> 
                <a class="a-especial" href="nosotros.html#UNITE-A-NOSOTROS">Trabaja con Nosotros</a> 
                <a class="a-especial" href="nosotros.html#NOSOTROS-CONTACTO">Contacto</a>
            </div>
            <div class="footer-list">
                <p class="CommonLabel">Trayectos</p>
                <a class="a-especial" href="actividades.html">Caminatas</a> 
                <a class="a-especial" href="refugios.html">Hospedajes</a> 
                <a class="a-especial" href="actividades.html">Guías</a> 
            </div>
            <div class="footer-list">
                <div class="DatosPag">
                <p class="CommonLabel">Refugios de Montaña</p>
                <p>Avenida Bolsón 1434</p>
                <p>Ciudad de Bolsón</p>
                <p>Argentina</p>
                <a class="a-especial" href="#">info@refugiosbolson.com.ar</a>
                </div>
                <div class="redes-sociales">
                <a href="https://www.linkedin.com/feed/" target="_blank"><i class="bi bi-linkedin"></i></a>
                <a href="https://x.com/?lang=es" target="_blank"><i class="bi bi-twitter-x"></i></a>
                <a href="https://www.instagram.com/accounts/login/?next=https%3A%2F%2Fabout.instagram.com%2Fes-la" target="_blank"><i class="bi bi-instagram"></i></a>
                </div>
            </div>
            </div>
        </div>
        <hr>
        <div class="derechos">
            <p>© Copyright 2024 <b>Grupo 12</b> Codo a Codo</p>
        </div>
    </footer>
    <script src="{{ url_for('static', filename='js/mochilas.js') }}"></script>

    
</body>
</html>